(this["webpackJsonpkasir-app"]=this["webpackJsonpkasir-app"]||[]).push([[0],{112:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),l=t(27),c=t.n(l),o=(t(87),t(88),t(15)),s=t(16),i=t(18),m=t(17),u=t(55),h=t(8),g=t(75),E=t(126),p=t(127),d=t(117),f=t(118),k=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},j=t(22),v=t(20),b=t(122),y=t(123),C=t(76),S=function(a){var e=a.showModal,t=a.handleClose,n=a.keranjangDetail,l=a.jumlah,c=a.keterangan,o=a.tambah,s=a.kurang,i=a.changeHandler,m=a.handleSubmit,u=a.totalHarga,h=a.hapusPesanan;return n?r.a.createElement(b.a,{show:e,onHide:t},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,n.product.nama," ",r.a.createElement("strong",null,"(Rp. ",k(n.product.harga),")"))),r.a.createElement(b.a.Body,null,r.a.createElement(y.a,{onSubmit:m},r.a.createElement(y.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(y.a.Label,null,"Total Harga :"),r.a.createElement("p",null,r.a.createElement("strong",null,"Rp. ",k(u)))),r.a.createElement(y.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement(y.a.Label,null,"Jumlah :"),r.a.createElement("br",null),r.a.createElement(C.a,{variant:"primary",size:"sm",className:"mr-2",onClick:function(){return s()}},r.a.createElement(v.a,{icon:j.c})),r.a.createElement("strong",null,l),r.a.createElement(C.a,{variant:"primary",size:"sm",className:"ml-2",onClick:function(){return o()}},r.a.createElement(v.a,{icon:j.d}))),r.a.createElement(y.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(y.a.Label,null,"Keterangan :"),r.a.createElement(y.a.Control,{as:"textarea",rows:"3",name:"keterangan",placeholder:"Contoh : Pedes, Nasi Setengah",value:c,onChange:function(a){return i(a)}})),r.a.createElement(C.a,{variant:"primary",type:"submit"},"Simpan"))),r.a.createElement(b.a.Footer,null,r.a.createElement(C.a,{variant:"danger",onClick:function(){return h(n.id)}},r.a.createElement(v.a,{icon:j.f})," Hapus Pesanan"))):r.a.createElement(b.a,{show:e,onHide:t},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Kosong")),r.a.createElement(b.a.Body,null,"Kosong"),r.a.createElement(b.a.Footer,null,r.a.createElement(C.a,{variant:"secondary",onClick:t},"Close"),r.a.createElement(C.a,{variant:"primary",onClick:t},"Save Changes")))},O=t(11),N=t.n(O),w="http://localhost:3004/",D=function(a){Object(i.a)(t,a);var e=Object(m.a)(t);function t(){var a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=e.call.apply(e,[this].concat(r))).submitTotalBayar=function(e){var t={total_bayar:e,menus:a.props.keranjangs};N.a.post(w+"pesanans",t).then((function(e){a.props.history.push("/sukses")}))},a}return Object(s.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs.reduce((function(a,e){return a+e.total_harga}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed-bottom d-none d-md-block"},r.a.createElement(d.a,null,r.a.createElement(g.a,{md:{span:3,offset:9},className:"px-4"},r.a.createElement("h4",null,"Total Harga :"," ",r.a.createElement("strong",{className:"float-right mr-2"},"Rp. ",k(e))),r.a.createElement(C.a,{variant:"primary",block:!0,className:"mb-2 mt-4 mr-2",size:"lg",onClick:function(){return a.submitTotalBayar(e)}},r.a.createElement(v.a,{icon:j.e})," ",r.a.createElement("strong",null,"BAYAR"))))),r.a.createElement("div",{className:"d-sm-block d-md-none"},r.a.createElement(d.a,null,r.a.createElement(g.a,{md:{span:3,offset:9},className:"px-4"},r.a.createElement("h4",null,"Total Harga :"," ",r.a.createElement("strong",{className:"float-right mr-2"},"Rp. ",k(e))),r.a.createElement(C.a,{variant:"primary",block:!0,className:"mb-2 mt-4 mr-2",size:"lg",onClick:function(){return a.submitTotalBayar(e)}},r.a.createElement(v.a,{icon:j.e})," ",r.a.createElement("strong",null,"BAYAR"))))))}}]),t}(n.Component),H=t(39),x=t.n(H),M=function(a){Object(i.a)(t,a);var e=Object(m.a)(t);function t(a){var n;return Object(o.a)(this,t),(n=e.call(this,a)).handleShow=function(a){n.setState({showModal:!0,keranjangDetail:a,jumlah:a.jumlah,keterangan:a.keterangan,totalHarga:a.total_harga})},n.handleClose=function(){n.setState({showModal:!1})},n.tambah=function(){n.setState({jumlah:n.state.jumlah+1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah+1)})},n.kurang=function(){1!==n.state.jumlah&&n.setState({jumlah:n.state.jumlah-1,totalHarga:n.state.keranjangDetail.product.harga*(n.state.jumlah-1)})},n.changeHandler=function(a){n.setState({keterangan:a.target.value})},n.handleSubmit=function(a){a.preventDefault(),n.handleClose();var e={jumlah:n.state.jumlah,total_harga:n.state.totalHarga,product:n.state.keranjangDetail.product,keterangan:n.state.keterangan};N.a.put(w+"keranjangs/"+n.state.keranjangDetail.id,e).then((function(a){x()({title:"Update Pesanan!",text:"Sukses Update Pesanan "+e.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))},n.hapusPesanan=function(a){n.handleClose(),N.a.delete(w+"keranjangs/"+a).then((function(a){x()({title:"Hapus Pesanan!",text:"Sukses Hapus Pesanan "+n.state.keranjangDetail.product.nama,icon:"error",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))},n.state={showModal:!1,keranjangDetail:!1,jumlah:0,keterangan:"",totalHarga:0},n}return Object(s.a)(t,[{key:"render",value:function(){var a=this,e=this.props.keranjangs;return r.a.createElement(g.a,{md:3,className:"mt-3"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Hasil")),r.a.createElement("hr",null),0!==e.length&&r.a.createElement(E.a,{className:"overflow-auto hasil"},r.a.createElement(p.a,{variant:"flush"},e.map((function(e){return r.a.createElement(p.a.Item,{key:e.id,onClick:function(){return a.handleShow(e)}},r.a.createElement(d.a,null,r.a.createElement(g.a,{xs:2},r.a.createElement("h4",null,r.a.createElement(f.a,{pill:!0,variant:"success"},e.jumlah))),r.a.createElement(g.a,null,r.a.createElement("h5",null,e.product.nama),r.a.createElement("p",null,"Rp. ",k(e.product.harga))),r.a.createElement(g.a,null,r.a.createElement("strong",{className:"float-right"},"Rp. ",k(e.total_harga)))))})),r.a.createElement(S,Object.assign({handleClose:this.handleClose},this.state,{tambah:this.tambah,kurang:this.kurang,changeHandler:this.changeHandler,handleSubmit:this.handleSubmit,hapusPesanan:this.hapusPesanan})))),r.a.createElement(D,Object.assign({keranjangs:e},this.props)))}}]),t}(n.Component),B=function(a){var e=a.nama;return"Makanan"===e?r.a.createElement(v.a,{icon:j.g,className:"mr-2"}):"Minuman"===e?r.a.createElement(v.a,{icon:j.b}):"Cemilan"===e?r.a.createElement(v.a,{icon:j.a,className:"mr-2"}):r.a.createElement(v.a,{icon:j.g,className:"mr-2"})},K=function(a){Object(i.a)(t,a);var e=Object(m.a)(t);function t(a){var n;return Object(o.a)(this,t),(n=e.call(this,a)).state={categories:[]},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var a=this;N.a.get(w+"categories").then((function(e){var t=e.data;a.setState({categories:t})})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"render",value:function(){var a=this.state.categories,e=this.props,t=e.changeCategory,n=e.categoriYangDipilih;return r.a.createElement(g.a,{md:2,className:"mt-3"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Daftar Kategori")),r.a.createElement("hr",null),r.a.createElement(p.a,null,a&&a.map((function(a){return r.a.createElement(p.a.Item,{key:a.id,onClick:function(){return t(a.nama)},className:n===a.nama&&"category-aktif",style:{cursor:"pointer"}},r.a.createElement("h5",null,r.a.createElement(B,{nama:a.nama})," ",a.nama))}))))}}]),t}(n.Component),I=t(125),T=t(119),P=t(120),R=t(124),A=function(){return r.a.createElement(I.a,{variant:"dark",expand:"lg"},r.a.createElement(T.a,null,r.a.createElement(I.a.Brand,{href:"#home"},r.a.createElement("strong",null,"Kasir")," App"),r.a.createElement(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(I.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(P.a,{className:"mr-auto"},r.a.createElement(P.a.Link,{href:"#home"},"Home"),r.a.createElement(P.a.Link,{href:"#link"},"Link"),r.a.createElement(R.a,{title:"Dropdown",id:"basic-nav-dropdown"},r.a.createElement(R.a.Item,{href:"#action/3.1"},"Action"),r.a.createElement(R.a.Item,{href:"#action/3.2"},"Another action"),r.a.createElement(R.a.Item,{href:"#action/3.3"},"Something"),r.a.createElement(R.a.Divider,null),r.a.createElement(R.a.Item,{href:"#action/3.4"},"Separated link"))))))},Y=function(a){var e=a.menu,t=a.masukKeranjang;return r.a.createElement(g.a,{md:4,xs:6,className:"mb-4"},r.a.createElement(E.a,{className:"shadow",onClick:function(){return t(e)}},r.a.createElement(E.a.Img,{variant:"top",src:"assets/images/"+e.category.nama.toLowerCase()+"/"+e.gambar}),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,e.nama," ",r.a.createElement("strong",null,"(",e.kode,")")),r.a.createElement(E.a.Text,null,"Rp. ",k(e.harga)))))},_=function(a){Object(i.a)(t,a);var e=Object(m.a)(t);function t(a){var n;return Object(o.a)(this,t),(n=e.call(this,a)).changeCategory=function(a){n.setState({categoriYangDipilih:a,menus:[]}),N.a.get(w+"products?category.nama="+a).then((function(a){var e=a.data;n.setState({menus:e})})).catch((function(a){console.log("Error yaa ",a)}))},n.masukKeranjang=function(a){N.a.get(w+"keranjangs?product.id="+a.id).then((function(e){if(0===e.data.length){var t={jumlah:1,total_harga:a.harga,product:a};N.a.post(w+"keranjangs",t).then((function(a){x()({title:"Sukses Masuk Keranjang",text:"Sukses Masuk Keranjang "+t.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))}else{var n={jumlah:e.data[0].jumlah+1,total_harga:e.data[0].total_harga+a.harga,product:a};N.a.put(w+"keranjangs/"+e.data[0].id,n).then((function(a){x()({title:"Sukses Masuk Keranjang",text:"Sukses Masuk Keranjang "+n.product.nama,icon:"success",button:!1,timer:1500})})).catch((function(a){console.log("Error yaa ",a)}))}})).catch((function(a){console.log("Error yaa ",a)}))},n.state={menus:[],categoriYangDipilih:"Makanan",keranjangs:[]},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var a=this;N.a.get(w+"products?category.nama="+this.state.categoriYangDipilih).then((function(e){var t=e.data;a.setState({menus:t})})).catch((function(a){console.log("Error yaa ",a)})),N.a.get(w+"keranjangs").then((function(e){var t=e.data;a.setState({keranjangs:t})})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"componentDidUpdate",value:function(a){var e=this;this.state.keranjangs!==a.keranjangs&&N.a.get(w+"keranjangs").then((function(a){var t=a.data;e.setState({keranjangs:t})})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"render",value:function(){var a=this,e=this.state,t=e.menus,n=e.categoriYangDipilih,l=e.keranjangs;return r.a.createElement("div",{className:"mt-3"},r.a.createElement(T.a,{fluid:!0},r.a.createElement(d.a,null,r.a.createElement(K,{changeCategory:this.changeCategory,categoriYangDipilih:n}),r.a.createElement(g.a,{className:"mt-3"},r.a.createElement("h4",null,r.a.createElement("strong",null,"Daftar Produk")),r.a.createElement("hr",null),r.a.createElement(d.a,{className:"overflow-auto menu"},t&&t.map((function(e){return r.a.createElement(Y,{key:e.id,menu:e,masukKeranjang:a.masukKeranjang})})))),r.a.createElement(M,Object.assign({keranjangs:l},this.props)))))}}]),t}(n.Component),L=t(121),F=function(a){Object(i.a)(t,a);var e=Object(m.a)(t);function t(){return Object(o.a)(this,t),e.apply(this,arguments)}return Object(s.a)(t,[{key:"componentDidMount",value:function(){N.a.get(w+"keranjangs").then((function(a){a.data.map((function(a){return N.a.delete(w+"keranjangs/"+a.id).then((function(a){return console.log(a)})).catch((function(a){return console.log(a)}))}))})).catch((function(a){console.log("Error yaa ",a)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-4 text-center"},r.a.createElement(L.a,{src:"assets/images/sukses.png",width:"500"}),r.a.createElement("h2",null,"Sukses Pesan"),r.a.createElement("p",null,"Terimakasih Sudah Memesan!"),r.a.createElement(C.a,{variant:"primary",as:u.b,to:"/"},"Kembali"))}}]),t}(n.Component),z=function(a){Object(i.a)(t,a);var e=Object(m.a)(t);function t(){return Object(o.a)(this,t),e.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(A,null),r.a.createElement("main",null,r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",component:_,exact:!0}),r.a.createElement(h.a,{path:"/sukses",component:F,exact:!0}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))},82:function(a,e,t){a.exports=t(112)},88:function(a,e,t){}},[[82,1,2]]]);
//# sourceMappingURL=main.800ec5d7.chunk.js.map