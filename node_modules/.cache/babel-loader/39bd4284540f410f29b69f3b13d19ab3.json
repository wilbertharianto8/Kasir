{"ast":null,"code":"import _classCallCheck from\"/Applications/kasirapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/kasirapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Applications/kasirapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Applications/kasirapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Badge,Card,Col,ListGroup,Row}from\"react-bootstrap\";import{numberWithCommas}from\"../utils/utils\";import ModalKeranjang from\"./ModalKeranjang\";import TotalBayar from\"./TotalBayar\";import{API_URL}from\"../utils/constants\";import axios from\"axios\";import swal from\"sweetalert\";var Hasil=/*#__PURE__*/function(_Component){_inherits(Hasil,_Component);var _super=_createSuper(Hasil);function Hasil(props){var _this;_classCallCheck(this,Hasil);_this=_super.call(this,props);_this.handleShow=function(menuKeranjang){_this.setState({showModal:true,keranjangDetail:menuKeranjang,jumlah:menuKeranjang.jumlah,keterangan:menuKeranjang.keterangan,totalHarga:menuKeranjang.total_harga});};_this.handleClose=function(){_this.setState({showModal:false});};_this.tambah=function(){_this.setState({jumlah:_this.state.jumlah+1,totalHarga:_this.state.keranjangDetail.product.harga*(_this.state.jumlah+1)});};_this.kurang=function(){if(_this.state.jumlah!==1){_this.setState({jumlah:_this.state.jumlah-1,totalHarga:_this.state.keranjangDetail.product.harga*(_this.state.jumlah-1)});}};_this.changeHandler=function(event){_this.setState({keterangan:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();_this.handleClose();var data={jumlah:_this.state.jumlah,total_harga:_this.state.totalHarga,product:_this.state.keranjangDetail.product,keterangan:_this.state.keterangan};axios.put(API_URL+\"keranjangs/\"+_this.state.keranjangDetail.id,data).then(function(res){swal({title:\"Update Pesanan!\",text:\"Sukses Update Pesanan \"+data.product.nama,icon:\"success\",button:false,timer:1500});}).catch(function(error){console.log(\"Error yaa \",error);});};_this.hapusPesanan=function(id){_this.handleClose();axios.delete(API_URL+\"keranjangs/\"+id).then(function(res){swal({title:\"Hapus Pesanan!\",text:\"Sukses Hapus Pesanan \"+_this.state.keranjangDetail.product.nama,icon:\"error\",button:false,timer:1500});}).catch(function(error){console.log(\"Error yaa \",error);});};_this.state={showModal:false,keranjangDetail:false,jumlah:0,keterangan:\"\",totalHarga:0};return _this;}_createClass(Hasil,[{key:\"render\",value:function render(){var _this2=this;var keranjangs=this.props.keranjangs;return/*#__PURE__*/React.createElement(Col,{md:3,className:\"mt-3\"},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Hasil\")),/*#__PURE__*/React.createElement(\"hr\",null),keranjangs.length!==0&&/*#__PURE__*/React.createElement(Card,{className:\"overflow-auto hasil\"},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},keranjangs.map(function(menuKeranjang){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:menuKeranjang.id,onClick:function onClick(){return _this2.handleShow(menuKeranjang);}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:2},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(Badge,{pill:true,variant:\"success\"},menuKeranjang.jumlah))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h5\",null,menuKeranjang.product.nama),/*#__PURE__*/React.createElement(\"p\",null,\"Rp. \",numberWithCommas(menuKeranjang.product.harga))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"strong\",{className:\"float-right\"},\"Rp. \",numberWithCommas(menuKeranjang.total_harga)))));}),/*#__PURE__*/React.createElement(ModalKeranjang,Object.assign({handleClose:this.handleClose},this.state,{tambah:this.tambah,kurang:this.kurang,changeHandler:this.changeHandler,handleSubmit:this.handleSubmit,hapusPesanan:this.hapusPesanan})))),/*#__PURE__*/React.createElement(TotalBayar,Object.assign({keranjangs:keranjangs},this.props)));}}]);return Hasil;}(Component);export{Hasil as default};","map":{"version":3,"sources":["/Applications/kasirapp/src/components/Hasil.js"],"names":["React","Component","Badge","Card","Col","ListGroup","Row","numberWithCommas","ModalKeranjang","TotalBayar","API_URL","axios","swal","Hasil","props","handleShow","menuKeranjang","setState","showModal","keranjangDetail","jumlah","keterangan","totalHarga","total_harga","handleClose","tambah","state","product","harga","kurang","changeHandler","event","target","value","handleSubmit","preventDefault","data","put","id","then","res","title","text","nama","icon","button","timer","catch","error","console","log","hapusPesanan","delete","keranjangs","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Badge, Card, Col, ListGroup, Row } from \"react-bootstrap\";\nimport { numberWithCommas } from \"../utils/utils\";\nimport ModalKeranjang from \"./ModalKeranjang\";\nimport TotalBayar from \"./TotalBayar\";\nimport { API_URL } from \"../utils/constants\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\nexport default class Hasil extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModal: false,\n      keranjangDetail: false,\n      jumlah: 0,\n      keterangan: \"\",\n      totalHarga: 0,\n    };\n  }\n\n  handleShow = (menuKeranjang) => {\n    this.setState({\n      showModal: true,\n      keranjangDetail: menuKeranjang,\n      jumlah: menuKeranjang.jumlah,\n      keterangan: menuKeranjang.keterangan,\n      totalHarga: menuKeranjang.total_harga,\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  tambah = () => {\n    this.setState({\n      jumlah: this.state.jumlah + 1,\n      totalHarga:\n        this.state.keranjangDetail.product.harga * (this.state.jumlah + 1),\n    });\n  };\n\n  kurang = () => {\n    if (this.state.jumlah !== 1) {\n      this.setState({\n        jumlah: this.state.jumlah - 1,\n        totalHarga:\n          this.state.keranjangDetail.product.harga * (this.state.jumlah - 1),\n      });\n    }\n  };\n\n  changeHandler = (event) => {\n    this.setState({\n      keterangan: event.target.value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    this.handleClose();\n\n    const data = {\n      jumlah: this.state.jumlah,\n      total_harga: this.state.totalHarga,\n      product: this.state.keranjangDetail.product,\n      keterangan: this.state.keterangan,\n    };\n\n    axios\n      .put(API_URL + \"keranjangs/\" + this.state.keranjangDetail.id, data)\n      .then((res) => {\n        swal({\n          title: \"Update Pesanan!\",\n          text: \"Sukses Update Pesanan \" + data.product.nama,\n          icon: \"success\",\n          button: false,\n          timer: 1500,\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error yaa \", error);\n      });\n  };\n\n  hapusPesanan = (id) => {\n    this.handleClose();\n\n    axios\n      .delete(API_URL + \"keranjangs/\" + id)\n      .then((res) => {\n        swal({\n          title: \"Hapus Pesanan!\",\n          text:\n            \"Sukses Hapus Pesanan \" + this.state.keranjangDetail.product.nama,\n          icon: \"error\",\n          button: false,\n          timer: 1500,\n        });\n      })\n      .catch((error) => {\n        console.log(\"Error yaa \", error);\n      });\n  };\n\n  render() {\n    const { keranjangs } = this.props;\n    return (\n      <Col md={3} className=\"mt-3\">\n        <h4>\n          <strong>Hasil</strong>\n        </h4>\n        <hr />\n        {keranjangs.length !== 0 && (\n          <Card className=\"overflow-auto hasil\">\n            <ListGroup variant=\"flush\">\n              {keranjangs.map((menuKeranjang) => (\n                <ListGroup.Item\n                  key={menuKeranjang.id}\n                  onClick={() => this.handleShow(menuKeranjang)}\n                >\n                  <Row>\n                    <Col xs={2}>\n                      <h4>\n                        <Badge pill variant=\"success\">\n                          {menuKeranjang.jumlah}\n                        </Badge>\n                      </h4>\n                    </Col>\n                    <Col>\n                      <h5>{menuKeranjang.product.nama}</h5>\n                      <p>Rp. {numberWithCommas(menuKeranjang.product.harga)}</p>\n                    </Col>\n                    <Col>\n                      <strong className=\"float-right\">\n                        Rp. {numberWithCommas(menuKeranjang.total_harga)}\n                      </strong>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n              ))}\n\n              <ModalKeranjang\n                handleClose={this.handleClose}\n                {...this.state}\n                tambah={this.tambah}\n                kurang={this.kurang}\n                changeHandler={this.changeHandler}\n                handleSubmit={this.handleSubmit}\n                hapusPesanan={this.hapusPesanan}\n              />\n            </ListGroup>\n          </Card>\n        )}\n\n        <TotalBayar keranjangs={keranjangs} {...this.props} />\n      </Col>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}